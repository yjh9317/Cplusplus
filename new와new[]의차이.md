new와new[]의차이
=============
C에서는 동적할당을 할 때 malloc을 사용하고 free로 메모리 해제를 했지만 C++에서는 new로 동적할당을 하고 delete로 메모리를 해제한다.  
malloc으로 배열을 동적할당할때는 배열의 크기에 맞게 값을 설정해줬지만 new에서는 new[]로 배열을 동적할당한다.  
그런데 new[]만 사용해서 배열의 크기를 어떻게 알 수 있는가에 대해서는 내부동작이 다르기 때문이다.  
<br><br>


new로 동적할당을 한다면 내부적으로 malloc을 사용하고 delete를 사용한다면 내부적으로 free를 사용하여 메모리 해제를 한다.  
new안에서 malloc은 동적할당을 하면 자료형의 크기만큼 메모리를 힙메모리에서 메모리를 받고 메모리의 주소와 사이즈를 반환한다.  
그다음 free를 쓴다면 메모리의 주소를 찾아서 할당한 사이즈를 해제한다.  
<br><br>

하지만 new[]는 new와 약간 다르게 동적할당을 하면서 4만큼의 메모리를 추가한다.  
여기서 4만큼 메모리를 받은 공간에 해당주소의 사이즈를 저장하고 해당 주소를 반환한다.  
그래서 동적할당의 크기를 알 수 있고 delete[]로 해제할 때도 마찬가지로 4의 메모리를 추가하면서 배열사이즈를 받아오고  
반복문을 돌면서 소멸자를 호출하고 소멸자에서 delete를 하면 내부적으로 free를 호출하면서 메모리크기에 4만큼 빼서 반환한다.  
기본 자료형은 소멸자가 없기 때문에 new로 동적할당하고 delete로 해제한다.
